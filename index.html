<!DOCTYPE html>
<html lang="ru">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Тест о хобби</title>
  <link
    href="https://fonts.googleapis.com/css2?family=PT+Serif:ital,wght@0,400;0,700;1,400&family=Cormorant+Garamond:wght@600&display=swap"
    rel="stylesheet">
  <style>
    :root {
      --paper: #f9f5ed;
      --ink: #2b1d13;
      --accent: #7a3b2f;
      --gold: #c9a87a;
      --border: #d8c9b0;
      --correct: #3a6b35;
      --incorrect: #a63d2e;
    }

    /* Анимированный фон */
    body::before {
      content: "";
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      z-index: -1;
      background:
        radial-gradient(circle at 20% 30%, rgba(255, 255, 255, 0.15) 0%, transparent 10%),
        radial-gradient(circle at 80% 20%, rgba(255, 255, 255, 0.1) 0%, transparent 12%);
      pointer-events: none;
    }

    body {
      font-family: 'PT Serif', serif;
      background: #1a120b url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 800 600'%3E%3Cdefs%3E%3Cstyle%3E@keyframes sway%7B0%25%7Btransform:rotate(-3deg)%7D50%25%7Btransform:rotate(3deg)%7D100%25%7Btransform:rotate(-3deg)%7D%7D@keyframes flutter%7B0%25%7Bopacity:0.6%7D50%25%7Bopacity:1%7D100%25%7Bopacity:0.6%7D%7D%3C/style%3E%3C/defs%3E%3Crect width='800' height='600' fill='%231a120b'/%3E%3C!-- Балкон --%3E%3Cpath d='M200 300 L600 300 L600 320 L580 340 L220 340 L200 320 Z' fill='%232a2218'/%3E%3Cpath d='M220 340 L220 400 L240 400 L240 360 L260 360 L260 400 L280 400 L280 360 L300 360 L300 400 L320 400 L320 360 L340 360 L340 400 L360 400 L360 360 L380 360 L380 400 L400 400 L400 360 L420 360 L420 400 L440 400 L440 360 L460 360 L460 400 L480 400 L480 360 L500 360 L500 400 L520 400 L520 360 L540 360 L540 400 L560 400 L560 360 L580 360 L580 400 L580 340' fill='%232a2218'/%3E%3C!-- Джульетта --%3E%3Cg transform='translate(400,310)'%3E%3Ccircle cx='0' cy='-20' r='8' fill='%23d9c9b5'/%3E%3Cpath d='M-6 -12 Q0 -25 6 -12 L6 -5 L-6 -5 Z' fill='%235a4a3a'/%3E%3C/g%3E%3C!-- Ромео --%3E%3Cg transform='translate(400,420)'%3E%3Ccircle cx='0' cy='-10' r='7' fill='%23d9c9b5'/%3E%3Cpath d='M-5 -5 L-5 10 L5 10 L5 -5 Z' fill='%234a3a2a'/%3E%3Cpath d='M-8 0 L8 0 L6 15 L-6 15 Z' fill='%234a3a2a'/%3E%3C/g%3E%3C!-- Луна --%3E%3Ccircle cx='100' cy='80' r='20' fill='none' stroke='%23e0d0b0' stroke-width='2' opacity='0.7'%3E%3Canimate attributeName='opacity' values='0.5;0.9;0.5' dur='6s' repeatCount='indefinite'/%3E%3C/circle%3E%3C!-- Звёзды --%3E%3Ccircle cx='150' cy='120' r='1.5' fill='white' opacity='0.8'%3E%3Canimate attributeName='opacity' values='0.4;1;0.4' dur='4s' repeatCount='indefinite'/%3E%3C/circle%3E%3Ccircle cx='200' cy='70' r='1' fill='white'%3E%3Canimate attributeName='opacity' values='0.3;0.9;0.3' dur='5s' repeatCount='indefinite'/%3E%3C/circle%3E%3Ccircle cx='700' cy='100' r='1.2' fill='white'%3E%3Canimate attributeName='opacity' values='0.5;1;0.5' dur='4.5s' repeatCount='indefinite'/%3E%3C/circle%3E%3C!-- Шторы --%3E%3Cpath d='M210 340 L210 280 L230 290 L230 340 Z' fill='%234a3020' opacity='0.7'%3E%3CanimateTransform attributeName='transform' type='rotate' from='-2 210 340' to='2 210 340' dur='8s' repeatCount='indefinite' additive='sum'/%3E%3C/path%3E%3Cpath d='M590 340 L590 280 L570 290 L570 340 Z' fill='%234a3020' opacity='0.7'%3E%3CanimateTransform attributeName='transform' type='rotate' from='2 590 340' to='-2 590 340' dur='8s' repeatCount='indefinite' additive='sum'/%3E%3C/path%3E%3C/svg%3E") no-repeat center center;
      background-size: cover;
      margin: 0;
      padding: 20px;
      display: flex;
      justify-content: center;
      align-items: center;
      min-height: 100vh;
      color: var(--ink);
      line-height: 1.6;
    }

    .container {
      max-width: 700px;
      width: 100%;
      background: var(--paper);
      border: 1px solid var(--border);
      box-shadow: 0 8px 25px rgba(0, 0, 0, 0.25);
      padding: 35px;
      border-radius: 6px;
      position: relative;
      backdrop-filter: blur(2px);
    }

    .container::before,
    .container::after {
      content: "";
      position: absolute;
      top: 15px;
      bottom: 15px;
      width: 2px;
      background: var(--gold);
    }

    .container::before {
      left: 15px;
    }

    .container::after {
      right: 15px;
    }

    h1 {
      font-family: 'Cormorant Garamond', serif;
      font-weight: 600;
      text-align: center;
      font-size: 1.9rem;
      color: var(--accent);
      margin: 0 0 20px;
      letter-spacing: 1px;
    }

    .question-number {
      text-align: center;
      font-style: italic;
      color: #6b5a4a;
      margin-bottom: 10px;
    }

    .question {
      margin: 20px 0;
      font-size: 1.15rem;
      line-height: 1.5;
    }

    .options {
      list-style: none;
      padding: 0;
      margin: 20px 0;
    }

    .options li {
      margin: 12px 0;
    }

    .options label {
      cursor: pointer;
      display: flex;
      align-items: flex-start;
      padding: 10px 14px;
      border: 1px solid transparent;
      border-radius: 4px;
      transition: background 0.2s;
    }

    .options label:hover {
      background: #f0e8dd;
    }

    .options input {
      margin-right: 12px;
      transform: scale(1.1);
    }

    button {
      display: block;
      width: 100%;
      padding: 12px;
      background: var(--accent);
      color: white;
      border: none;
      border-radius: 4px;
      font-family: inherit;
      font-size: 1.1rem;
      font-weight: bold;
      cursor: pointer;
      transition: opacity 0.2s;
    }

    button:hover {
      opacity: 0.9;
    }

    .feedback {
      padding: 15px;
      border-radius: 4px;
      margin: 20px 0;
      font-weight: bold;
      text-align: center;
    }

    .correct {
      background-color: rgba(58, 107, 53, 0.15);
      color: var(--correct);
    }

    .incorrect {
      background-color: rgba(166, 61, 46, 0.15);
      color: var(--incorrect);
    }

    .end-screen {
      text-align: center;
      font-size: 1.3rem;
      line-height: 1.6;
    }

    .end-screen h2 {
      font-family: 'Cormorant Garamond', serif;
      color: var(--accent);
      margin-bottom: 20px;
    }

    body::before {
      content: "";
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      z-index: -1;
      background: radial-gradient(circle at center, #0f172a 0%, #020617 100%);
      pointer-events: none;
    }

    body::after {
      content: "";
      position: fixed;
      top: 0;
      left: 0;
      width: 200%;
      height: 200%;
      background-image:
        radial-gradient(2px 2px at 10% 20%, white, transparent),
        radial-gradient(1.5px 1.5px at 25% 10%, #c9a87a, transparent),
        radial-gradient(1px 1px at 40% 30%, white, transparent),
        radial-gradient(2px 2px at 60% 15%, #d4af37, transparent),
        radial-gradient(1.5px 1.5px at 75% 25%, white, transparent),
        radial-gradient(1px 1px at 90% 10%, #c9a87a, transparent),
        radial-gradient(2px 2px at 15% 50%, white, transparent),
        radial-gradient(1.5px 1.5px at 35% 60%, #d4af37, transparent),
        radial-gradient(1px 1px at 55% 45%, white, transparent),
        radial-gradient(2px 2px at 80% 55%, #c9a87a, transparent),
        radial-gradient(1.5px 1.5px at 95% 70%, white, transparent),
        radial-gradient(1px 1px at 5% 85%, #d4af37, transparent),
        radial-gradient(2px 2px at 20% 90%, white, transparent),
        radial-gradient(1.5px 1.5px at 45% 80%, #c9a87a, transparent),
        radial-gradient(1px 1px at 70% 95%, white, transparent);
      animation: scrollStars 120s linear infinite;
      opacity: 0.7;
      z-index: -2;
      pointer-events: none;
    }

    @keyframes scrollStars {
      0% {
        transform: translateY(0);
      }

      100% {
        transform: translateY(-50%);
      }
    }

    input[type="text"] {
      width: 100%;
      padding: 12px;
      margin: 15px 0;
      border: 1px solid var(--border);
      border-radius: 4px;
      font-family: inherit;
      font-size: 1rem;
      box-sizing: border-box;
    }

    /* Стили для таблицы результатов */
    .results-table {
      width: 100%;
      border-collapse: collapse;
      margin: 20px 0;
      font-size: 1rem;
    }

    .results-table th,
    .results-table td {
      padding: 10px;
      text-align: left;
      border-bottom: 1px solid var(--border);
    }

    .results-table th {
      font-family: 'Cormorant Garamond', serif;
      color: var(--accent);
      font-weight: 600;
    }

    .results-table tr:last-child td {
      border-bottom: none;
    }
  </style>
</head>

<body>

  <div class="container">
    <!-- Вопрос -->
    <div id="quiz-screen">
      <h1>Тест о хобби</h1>
      <div class="question-number" id="q-number">Вопрос 1 из 10</div>
      <div class="question" id="question-text"></div>
      <ul class="options" id="options-list"></ul>
      <button id="submit-btn">Ответить</button>
    </div>

    <!-- Обратная связь -->
    <div id="feedback-screen" style="display: none;">
      <h1>Ваш ответ</h1>
      <div id="feedback-message" class="feedback"></div>
      <button id="next-btn">Следующий вопрос</button>
    </div>

    <!-- Конец -->
    <div id="end-screen" style="display: none;" class="end-screen">
      <h2>Игра окончена</h2>
      <p>Ваш результат: <span id="final-score" style="font-weight: bold; color: var(--accent);"></span> из <span
          id="total-questions"></span></p>

      <div id="save-form">
        <div style="text-align: left; margin-top: 20px;">
          <label for="player-name">Введите ваше имя для сохранения результата:</label>
          <input type="text" id="player-name" placeholder="Ваше имя...">
        </div>
        <button id="save-btn">Сохранить результат</button>
      </div>

      <div id="leaderboard" style="display: none; margin-top: 30px;">
        <h3 style="font-family: 'Cormorant Garamond', serif; color: var(--accent);">Доска Почета</h3>
        <table class="results-table">
          <thead>
            <tr>
              <th>Имя</th>
              <th>Баллы</th>
              <th>Дата</th>
            </tr>
          </thead>
          <tbody id="leaderboard-body"></tbody>
        </table>
      </div>

      <button id="restart-btn"
        style="background: transparent; border: 1px solid var(--accent); color: var(--accent); margin-top: 10px;">Пройти
        заново</button>
    </div>
  </div>

  <script>
    const questions = [
      {
        text: "Что такое хобби?",
        options: [
          "То, что человек делает сам, потому что ему интересно и приятно",
          "Обязанность, которую нужно выполнять каждый день",
          "Занятие только для профессионалов"
        ],
        correct: 0
      },
      {
        text: "Какие из перечисленных относятся к творческим хобби?",
        options: [
          "Рисование, пение, игра на гитаре",
          "Йога, плавание, туризм",
          "Программирование и садоводство"
        ],
        correct: 0
      },
      {
        text: "Какое влияние творческие хобби оказывают на человека?",
        options: [
          "Приводят к быстрой усталости и раздражению",
          "Делают человека более спокойным, внимательным и вдохновлённым",
          "Не влияют на эмоциональное состояние"
        ],
        correct: 1
      },
      {
        text: "Почему активные хобби полезны?",
        options: [
          "Они только утомляют и не приносят радости",
          "Они укрепляют здоровье и формируют полезные привычки",
          "Они мешают учёбе и развитию"
        ],
        correct: 1
      },
      {
        text: "Какие хобби относятся к активным и полезным?",
        options: [
          "Лепка, рисование, писательство",
          "Ведение блога, коллекционирование",
          "Спорт, танцы, туризм"
        ],
        correct: 2
      },
      {
        text: "Чем полезна готовка как хобби?",
        options: [
          "Помогает стать музыкантом",
          "Развивает только физическую силу",
          "Учит заботиться о себе и радовать близких"
        ],
        correct: 2
      },
      {
        text: "Какое хобби может развить логическое мышление и стать профессией?",
        options: [
          "Программирование",
          "Пение",
          "Туризм"
        ],
        correct: 0
      },
      {
        text: "Что помогает ведение блога?",
        options: [
          "Тренировать дыхание",
          "Делится мыслями и находить друзей по интересам",
          "Улучшать координацию и физическую форму"
        ],
        correct: 1
      },
      {
        text: "Какие качества развивают активные и творческие хобби?",
        options: [
          "Лень и пассивность",
          "Только агрессию и спешку",
          "Терпение, усидчивость, уверенность и дисциплина"
        ],
        correct: 2
      },
      {
        text: "Что может стать результатом практичного хобби?",
        options: [
          "Возможность выбора будущей профессии и успех",
          "Постоянное чувство усталости",
          "Полная потеря интереса к жизни"
        ],
        correct: 0
      }
    ];

    const quizScreen = document.getElementById('quiz-screen');
    const feedbackScreen = document.getElementById('feedback-screen');
    const endScreen = document.getElementById('end-screen');
    const questionText = document.getElementById('question-text');
    const optionsList = document.getElementById('options-list');
    const qNumber = document.getElementById('q-number');
    const submitBtn = document.getElementById('submit-btn');
    const feedbackMessage = document.getElementById('feedback-message');
    const nextBtn = document.getElementById('next-btn');

    let currentQuestionIndex = 0;
    let score = 0;

    function showQuestion(index) {
      const q = questions[index];
      qNumber.textContent = `Вопрос ${index + 1} из ${questions.length}`;
      questionText.textContent = q.text;
      optionsList.innerHTML = '';
      q.options.forEach((option, idx) => {
        const li = document.createElement('li');
        li.innerHTML = `
          <label>
            <input type="radio" name="answer" value="${idx}">
            ${String.fromCharCode(65 + idx)}. ${option}
          </label>
        `;
        optionsList.appendChild(li);
      });
      quizScreen.style.display = 'block';
      feedbackScreen.style.display = 'none';
    }

    function checkAnswer() {
      const selected = document.querySelector('input[name="answer"]:checked');
      if (!selected) {
        alert('Пожалуйста, выберите вариант ответа.');
        return;
      }

      const userAnswer = parseInt(selected.value);
      const correctIndex = questions[currentQuestionIndex].correct;
      const isCorrect = userAnswer === correctIndex;

      if (isCorrect) {
        score++;
        feedbackMessage.textContent = "Правильно!";
        feedbackMessage.className = "feedback correct";
      } else {
        feedbackMessage.textContent = `Неверно. Правильный ответ: ${String.fromCharCode(65 + correctIndex)}. ${questions[currentQuestionIndex].options[correctIndex]}`;
        feedbackMessage.className = "feedback incorrect";
      }

      quizScreen.style.display = 'none';
      feedbackScreen.style.display = 'block';
    }

    submitBtn.addEventListener('click', checkAnswer);

    nextBtn.addEventListener('click', () => {
      currentQuestionIndex++;
      if (currentQuestionIndex < questions.length) {
        showQuestion(currentQuestionIndex);
      } else {
        showEndScreen();
      }
    });

    function showEndScreen() {
      feedbackScreen.style.display = 'none';
      endScreen.style.display = 'block';
      document.getElementById('save-form').style.display = 'block';
      document.getElementById('leaderboard').style.display = 'none';

      document.getElementById('final-score').textContent = score;
      document.getElementById('total-questions').textContent = questions.length;
    }

    function renderLeaderboard() {
      const tbody = document.getElementById('leaderboard-body');
      const results = JSON.parse(localStorage.getItem('quizResults')) || [];

      results.sort((a, b) => b.score - a.score);

      tbody.innerHTML = '';
      results.forEach(res => {
        const row = document.createElement('tr');
        row.innerHTML = `
          <td>${res.name}</td>
          <td>${res.score}</td>
          <td>${res.date}</td>
        `;
        tbody.appendChild(row);
      });

      document.getElementById('save-form').style.display = 'none';
      document.getElementById('leaderboard').style.display = 'block';
    }

    document.getElementById('save-btn').addEventListener('click', () => {
      const nameInput = document.getElementById('player-name');
      const name = nameInput.value.trim() || 'Аноним';

      const result = {
        name: name,
        score: score,
        date: new Date().toLocaleDateString()
      };

      const customResults = JSON.parse(localStorage.getItem('quizResults')) || [];
      customResults.push(result);
      localStorage.setItem('quizResults', JSON.stringify(customResults));

      renderLeaderboard();
    });

    document.getElementById('restart-btn').addEventListener('click', () => {
      currentQuestionIndex = 0;
      score = 0;
      endScreen.style.display = 'none';
      showQuestion(0);
    });

    showQuestion(0);
  </script>
</body>

</html>